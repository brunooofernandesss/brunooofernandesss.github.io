
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10 Anatomia Macrosc√≥pica e Sintopia dos √ìrg√£os Femininos </title>
    <style>
        body { font-family: sans-serif; margin: 0; padding: 20px; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; background-color: #f4f4f4; }
        .quiz-container { max-width: 800px; width: 100%; }
        h1 { color: #333; text-align: center; margin-bottom: 30px; }
        .card { background-color: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .question { font-weight: bold; margin-bottom: 10px; color: #333; }
        .options { margin-top: 15px; }
        
        /* Estilos das op√ß√µes */
        .option, label.option, label, #newQuestionsContent label { display: flex; align-items: center; margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; cursor: pointer; transition: background-color 0.2s ease; position: relative; }
        
        /* Ocultar Radio inputs */
        .option input[type="radio"], label input[type="radio"], #newQuestionsContent input[type="radio"], #newQuestionsContent label input[type="radio"] { display: none !important; visibility: hidden !important; opacity: 0 !important; position: absolute !important; left: -9999px !important; }
        
        .option:hover, label.option:hover, label:hover, #newQuestionsContent label:hover { background-color: #e9e9e9; }
        .option.selected, label.option.selected, label.selected, #newQuestionsContent label.selected { background-color: #d1e7dd; border-color: #28a745; }
        .option.correct, label.option.correct, label.correct, #newQuestionsContent label.correct { background-color: #d4edda; border-color: #28a745; }
        .option.incorrect, label.option.incorrect, label.incorrect, #newQuestionsContent label.incorrect { background-color: #f8d7da; border-color: #dc3545; }
        
        .submit-btn { display: block; width: 100%; padding: 15px; background-color: #007bff; color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; transition: background-color 0.3s ease; margin-top: 30px; }
        .submit-btn:hover { background-color: #0056b3; }
        
        .results { text-align: center; margin-top: 30px; font-size: 20px; font-weight: bold; color: #333; }
        .scissor-icon { margin-right: 10px; width: 20px; height: 20px; opacity: 0.5; cursor: pointer; }
        .scissor-icon.hidden { display: none; }
        .struck-through { text-decoration: line-through; color: #888; }
        
        .comment { margin-top: 10px; padding: 10px; background-color: #f0f0f0; border-left: 4px solid #007bff; font-style: italic; color: #555; display: none; }
        .comment.show { display: block; }
        
        .card-bloco { border: 1px solid #ddd; border-radius: 6px; padding: 10px; background: #fff; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        
        /* Diagn√≥stico e Erros */
        .error-diagnosis-section { margin-top: 50px; padding: 30px; background-color: #ffe0b2; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.15); display: none; text-align: center; font-size: 1.1em; color: #333; }
        .error-diagnosis-section h2 { color: #e65100; margin-bottom: 20px; font-size: 1.8em; }
        .error-diagnosis-section ul { list-style: none; padding: 0; margin: 0; }
        .error-diagnosis-section li { background-color: #ff9800; color: white; padding: 8px 15px; margin: 8px 0; border-radius: 5px; display: inline-block; margin-right: 10px; font-weight: bold; }
    </style>
</head>
<body>

    <div class="quiz-container" id="quiz-container">
        <h1>10 Anatomia Macrosc√≥pica e Sintopia dos √ìrg√£os Femininos </h1>
        
        <div id="quiz"></div>
        
        <button class="submit-btn" id="verifyAnswersBtn">Verificar Respostas</button>
        <button class="generate-questions-btn submit-btn" id="generateNewQuestionsBtn" style="display:none;">Gerar Novas Perguntas</button>
        
        <div class="results card-bloco" id="results"></div>
        <div id="statusMessage" style="text-align: center; margin-top: 10px; font-weight: bold; color: #007bff;"></div>
        
        <div class="error-diagnosis-section card-bloco" id="errorDiagnosis">
            <h2>Diagn√≥stico de Erros</h2>
            <p>Parece que voc√™ precisa revisar os seguintes assuntos:</p>
            <ul id="topicsToReview"></ul>
        </div>
        
        <div class="generated-questions-section card-bloco" id="generatedQuestionsSection" style="display:none;">
            <h2>Novas Perguntas Geradas</h2>
            <div id="newQuestionsContent"></div>
        </div>
    </div>

<script>
    const quizContainer = document.getElementById("quiz");
    const resultsContainer = document.getElementById("results");
    const errorDiagnosisSection = document.getElementById("errorDiagnosis");
    const topicsToReviewList = document.getElementById("topicsToReview");
    const generateNewQuestionsBtn = document.getElementById("generateNewQuestionsBtn");
    const generatedQuestionsSection = document.getElementById("generatedQuestionsSection");
    const newQuestionsContent = document.getElementById("newQuestionsContent");
    const statusMessage = document.getElementById("statusMessage");

    let wrongQuestionIndices = [];
    let errorCountByTopic = {};  // CORRIGIDO: chaves duplas para objeto JS vazio
    let totalAnsweredQuestionsByTopic = {}; // CORRIGIDO
    let currentWrongQuestionIndex = -1;
    let hasErrors = false;

    // Inicializa display
    errorDiagnosisSection.style.display = 'none';
    topicsToReviewList.innerHTML = '';
    statusMessage.textContent = '';

    // AQUI entra a vari√°vel Python, ent√£o usamos chaves simples:
    const questions = [ {
  question: "Qual √© a base imunol√≥gica fundamental para o diagn√≥stico laboratorial da gravidez, conforme o texto?",
  options: [
    "A) A detec√ß√£o de anticorpos anti-progesterona.",
    "B) A rea√ß√£o ant√≠geno-anticorpo.",
    "C) A identifica√ß√£o de c√©lulas Natural Killer maternas.",
    "D) A mensura√ß√£o de citocinas inflamat√≥rias."
  ],
  correctAnswer: "B) A rea√ß√£o ant√≠geno-anticorpo.",
  comment: "O texto estabelece que a rea√ß√£o ant√≠geno-anticorpo √© a base imunol√≥gica essencial para a compreens√£o do diagn√≥stico de gravidez, permitindo a detec√ß√£o do HCG.",
  topic: "Fundamentos Imunol√≥gicos do Diagn√≥stico de Gravidez"
},
{
  question: "Onde e quando o horm√¥nio Gonadotrofina Cori√¥nica Humana (HCG) come√ßa a ser produzido no contexto da gravidez?",
  options: [
    "A) No ov√°rio, antes da fecunda√ß√£o.",
    "B) No trofoblasto, logo ap√≥s a nida√ß√£o.",
    "C) No endom√©trio, durante a menstrua√ß√£o.",
    "D) Na hip√≥fise, no in√≠cio do ciclo menstrual."
  ],
  correctAnswer: "B) No trofoblasto, logo ap√≥s a nida√ß√£o.",
  comment: "O HCG √© produzido pelo trofoblasto, a camada externa do blastocisto, logo ap√≥s a nida√ß√£o (implanta√ß√£o do embri√£o no endom√©trio).",
  topic: "Produ√ß√£o de HCG"
},
{
  question: "Qual a estrutura do HCG e quais suas subunidades?",
  options: [
    "A) √â um esteroide composto por duas cadeias proteicas.",
    "B) √â uma glicoprote√≠na composta por duas subunidades: alfa e beta.",
    "C) √â um pept√≠deo composto por tr√™s subunidades: alfa, beta e gama.",
    "D) √â uma lipoprote√≠na com uma √∫nica subunidade."
  ],
  correctAnswer: "B) √â uma glicoprote√≠na composta por duas subunidades: alfa e beta.",
  comment: "Estruturalmente, o HCG √© uma glicoprote√≠na composta por duas subunidades: a alfa e a beta.",
  topic: "Estrutura do HCG"
},
{
  question: "Por que a subunidade alfa do HCG n√£o √© utilizada como marcador espec√≠fico para o diagn√≥stico de gravidez?",
  options: [
    "A) Porque ela √© rapidamente degradada no organismo materno.",
    "B) Porque ela √© estruturalmente semelhante a outros horm√¥nios como LH, FSH e TSH.",
    "C) Porque ela n√£o √© produzida em quantidades detect√°veis.",
    "D) Porque ela s√≥ √© excretada no leite materno."
  ],
  correctAnswer: "B) Porque ela √© estruturalmente semelhante a outros horm√¥nios como LH, FSH e TSH.",
  comment: "A subunidade alfa √© estruturalmente semelhante a outros horm√¥nios como LH, FSH e TSH, sendo frequentemente reutilizada e n√£o servindo como marcador espec√≠fico de gravidez.",
  topic: "Subunidade Alfa do HCG"
},
{
  question: "Qual subunidade do HCG √© o alvo da detec√ß√£o nos exames de gravidez e por qu√™?",
  options: [
    "A) A subunidade alfa, pois √© a mais abundante.",
    "B) A subunidade Beta (Beta-HCG), pois √© a por√ß√£o espec√≠fica e excretada em maiores quantidades.",
    "C) Ambas as subunidades alfa e beta, em conjunto, para maior precis√£o.",
    "D) Nenhuma subunidade, o teste detecta o horm√¥nio intacto."
  ],
  correctAnswer: "B) A subunidade Beta (Beta-HCG), pois √© a por√ß√£o espec√≠fica e excretada em maiores quantidades.",
  comment: "A subunidade Beta (Beta-HCG) √© a por√ß√£o espec√≠fica e excretada em maiores quantidades (na urina) ou circulante (no sangue), sendo o alvo da detec√ß√£o nos exames.",
  topic: "Subunidade Beta do HCG"
},
{
  question: "Qual a principal fun√ß√£o biol√≥gica do HCG no in√≠cio da gesta√ß√£o?",
  options: [
    "A) Estimular a produ√ß√£o de estrog√™nio pelos ov√°rios.",
    "B) Manter o corpo l√∫teo ativo para a produ√ß√£o de progesterona.",
    "C) Promover a matura√ß√£o dos fol√≠culos ovarianos.",
    "D) Iniciar as contra√ß√µes uterinas para a implanta√ß√£o."
  ],
  correctAnswer: "B) Manter o corpo l√∫teo ativo para a produ√ß√£o de progesterona.",
  comment: "A fun√ß√£o biol√≥gica principal do HCG √© manter o corpo l√∫teo ativo para que este continue produzindo progesterona, horm√¥nio essencial para a manuten√ß√£o do endom√©trio e, consequentemente, da gesta√ß√£o.",
  topic: "Fun√ß√£o do HCG na Gesta√ß√£o"
},
{
  question: "Como os n√≠veis de HCG se comportam no in√≠cio da gesta√ß√£o?",
  options: [
    "A) Come√ßam altos e diminuem progressivamente.",
    "B) Mant√™m-se est√°veis durante todo o primeiro trimestre.",
    "C) Come√ßam baixos, aumentam exponencialmente, atingem um pico e depois estabilizam ou caem.",
    "D) Variam aleatoriamente e n√£o seguem um padr√£o definido."
  ],
  correctAnswer: "C) Come√ßam baixos, aumentam exponencialmente, atingem um pico e depois estabilizam ou caem.",
  comment: "Os n√≠veis de HCG come√ßam baixos e aumentam exponencialmente no in√≠cio da gesta√ß√£o, atingindo um pico antes de estabilizar e cair posteriormente.",
  topic: "Din√¢mica dos N√≠veis de HCG"
},
{
  question: "Em quais fluidos corporais o HCG pode ser detectado para o diagn√≥stico de gravidez?",
  options: [
    "A) Apenas na urina.",
    "B) Apenas no sangue.",
    "C) Tanto no sangue (dosagem s√©rica) quanto na urina.",
    "D) Apenas no l√≠quido amni√≥tico."
  ],
  correctAnswer: "C) Tanto no sangue (dosagem s√©rica) quanto na urina.",
  comment: "O exame pode ser realizado tanto no sangue (dosagem s√©rica) quanto na urina (onde o horm√¥nio √© excretado).",
  topic: "Detec√ß√£o de HCG"
},
{
  question: "Como a urina migra nos testes imunocromatogr√°ficos (testes r√°pidos de farm√°cia)?",
  options: [
    "A) Por a√ß√£o gravitacional, de cima para baixo na fita.",
    "B) Por press√£o negativa, atrav√©s de migra√ß√£o capilar.",
    "C) Por difus√£o facilitada, com a ajuda de uma bomba.",
    "D) Por osmose, atrav√©s de uma membrana semiperme√°vel."
  ],
  correctAnswer: "B) Por press√£o negativa, atrav√©s de migra√ß√£o capilar.",
  comment: "Esses testes utilizam a migra√ß√£o capilar: a urina sobe pela fita por press√£o negativa, carregando o ant√≠geno (HCG).",
  topic: "Mecanismo dos Testes R√°pidos de Gravidez"
},
{
  question: "No teste r√°pido de gravidez, o que acontece se houver HCG na urina para gerar o resultado positivo?",
  options: [
    "A) O HCG reage diretamente com o color√≠metro e muda de cor.",
    "B) O HCG forma um complexo com anticorpos marcados que migra at√© uma barreira de anticorpos fixos, acumulando-se e gerando cor.",
    "C) O HCG ativa uma enzima que libera um crom√≥geno, mudando a cor da fita.",
    "D) A presen√ßa de HCG inibe a migra√ß√£o de anticorpos, resultando em uma linha vis√≠vel."
  ],
  correctAnswer: "B) O HCG forma um complexo com anticorpos marcados que migra at√© uma barreira de anticorpos fixos, acumulando-se e gerando cor.",
  comment: "Se houver HCG na urina, forma-se um complexo ant√≠geno-anticorpo que migra at√© encontrar uma barreira de anticorpos fixos (a linha de teste), onde se acumula e gera a cor positiva.",
  topic: "Funcionamento do Teste Imunocromatogr√°fico"
},
{
  question: "Qual a import√¢ncia da linha de controle em um teste imunocromatogr√°fico de gravidez?",
  options: [
    "A) Indica a concentra√ß√£o exata de HCG na urina.",
    "B) Confirma a presen√ßa de uma gesta√ß√£o ect√≥pica.",
    "C) Captura o excesso de anticorpos e, se n√£o aparecer, o teste √© inv√°lido.",
    "D) Mostra a idade gestacional aproximada do feto."
  ],
  correctAnswer: "C) Captura o excesso de anticorpos e, se n√£o aparecer, o teste √© inv√°lido.",
  comment: "√â crucial observar a linha de controle, que captura o excesso de anticorpos que continuaram subindo; se a linha de controle n√£o aparecer, o teste √© inv√°lido e deve ser descartado, pois indica falha na migra√ß√£o ou nos reagentes.",
  topic: "Controle de Qualidade em Testes R√°pidos"
},
{
  question: "De onde v√™m os anticorpos anti-HCG utilizados nos testes de gravidez, visto que o corpo humano n√£o os produz naturalmente durante a gesta√ß√£o?",
  options: [
    "A) S√£o anticorpos maternos pr√©-existentes.",
    "B) S√£o anticorpos sint√©ticos produzidos em laborat√≥rio.",
    "C) S√£o anticorpos extra√≠dos do s√™men.",
    "D) S√£o anticorpos do pr√≥prio embri√£o."
  ],
  correctAnswer: "B) S√£o anticorpos sint√©ticos produzidos em laborat√≥rio.",
  comment: "Embora o corpo humano n√£o produza anticorpos anti-HCG naturalmente (pois √© um horm√¥nio end√≥geno na gesta√ß√£o), os testes utilizam anticorpos sint√©ticos.",
  topic: "Produ√ß√£o de Anticorpos para Testes de Gravidez"
},
{
  question: "Qual a diferen√ßa fundamental entre um teste r√°pido (imunocromatogr√°fico) e um teste de laborat√≥rio (imunom√©trico) de gravidez?",
  options: [
    "A) O teste r√°pido √© sempre mais preciso, enquanto o de laborat√≥rio √© mais r√°pido.",
    "B) O teste r√°pido √© qualitativo (positivo/negativo), e o de laborat√≥rio pode ser quantitativo (mede concentra√ß√£o).",
    "C) O teste r√°pido detecta a subunidade alfa, e o de laborat√≥rio a subunidade beta.",
    "D) O teste r√°pido usa sangue, e o de laborat√≥rio usa urina."
  ],
  correctAnswer: "B) O teste r√°pido √© qualitativo (positivo/negativo), e o de laborat√≥rio pode ser quantitativo (mede concentra√ß√£o).",
  comment: "O teste r√°pido (imunocromatogr√°fico) √© qualitativo (informa apenas positivo ou negativo). J√° os testes de laborat√≥rio (imunom√©tricos) podem ser quantitativos, medindo a concentra√ß√£o exata do horm√¥nio.",
  topic: "Tipos de Testes de Gravidez"
},
{
  question: "Para que a quantifica√ß√£o dos n√≠veis de HCG √© vital na pr√°tica cl√≠nica?",
  options: [
    "A) Para identificar a presen√ßa de infec√ß√µes urin√°rias.",
    "B) Para estimar a idade gestacional, avaliar a evolu√ß√£o da gravidez e identificar gesta√ß√µes gemelares.",
    "C) Para determinar o grupo sangu√≠neo materno.",
    "D) Para prever a data exata do parto com 100% de certeza."
  ],
  correctAnswer: "B) Para estimar a idade gestacional, avaliar a evolu√ß√£o da gravidez e identificar gesta√ß√µes gemelares.",
  comment: "A quantifica√ß√£o √© vital para estimar a idade gestacional, avaliar a evolu√ß√£o da gravidez e identificar gesta√ß√µes gemelares (onde os n√≠veis s√£o dobrados).",
  topic: "Import√¢ncia da Quantifica√ß√£o do HCG"
},
{
  question: "Um dos fatores que pode causar falso positivo em um teste de gravidez √© a presen√ßa de anticorpos heterof√≠licos. O que eles causam?",
  options: [
    "A) Degradam o HCG na amostra, impedindo a detec√ß√£o.",
    "B) Reagem cruzadamente com o teste, simulando a presen√ßa de HCG.",
    "C) Bloqueiam a migra√ß√£o capilar da urina na fita.",
    "D) Aumentam a sensibilidade do teste, tornando-o sempre positivo."
  ],
  correctAnswer: "B) Reagem cruzadamente com o teste, simulando a presen√ßa de HCG.",
  comment: "Falsos positivos podem ocorrer devido a anticorpos heterof√≠licos, que s√£o anticorpos no sangue da paciente que reagem cruzadamente com o teste.",
  topic: "Falsos Positivos em Testes de Gravidez"
},
{
  question: "Al√©m dos anticorpos heterof√≠licos e neoplasias, qual outro fator relacionado a medicamentos pode causar um resultado falso positivo para HCG?",
  options: [
    "A) Uso de analg√©sicos comuns.",
    "B) Uso de HCG ex√≥geno em tratamentos de fertilidade.",
    "C) Ingest√£o de vitaminas pr√©-natais.",
    "D) Consumo de antibi√≥ticos para infec√ß√µes."
  ],
  correctAnswer: "B) Uso de HCG ex√≥geno em tratamentos de fertilidade.",
  comment: "Falsos positivos podem ocorrer devido ao uso de HCG ex√≥geno em tratamentos de fertilidade/reprodu√ß√£o assistida.",
  topic: "Falsos Positivos Causados por Medicamentos"
},
{
  question: "Em que situa√ß√£o a produ√ß√£o de HCG por neoplasias pode levar a um resultado falso positivo em um teste de gravidez?",
  options: [
    "A) Apenas em tumores benignos do √∫tero.",
    "B) Em tumores que produzem HCG como um marcador tumoral.",
    "C) Quando h√° infec√ß√£o do trato urin√°rio concomitante.",
    "D) Em qualquer tipo de tumor, independentemente da produ√ß√£o hormonal."
  ],
  correctAnswer: "B) Em tumores que produzem HCG como um marcador tumoral.",
  comment: "Falsos positivos podem ocorrer devido a neoplasias, que s√£o tumores que produzem HCG, agindo como um marcador tumoral.",
  topic: "Neoplasias e HCG"
},
{
  question: "Em uma paciente idosa, menopausada e laqueada, um resultado de HCG positivo provavelmente indica:",
  options: [
    "A) Uma gravidez tardia inesperada.",
    "B) Uma gravidez ect√≥pica de alto risco.",
    "C) Prov√°vel neoplasia produtora de HCG.",
    "D) Um erro de laborat√≥rio inevit√°vel."
  ],
  correctAnswer: "C) Prov√°vel neoplasia produtora de HCG.",
  comment: "Em uma paciente idosa, menopausada e laqueada, um HCG positivo indica prov√°vel neoplasia, n√£o gravidez, pois as condi√ß√µes fisiol√≥gicas para gravidez est√£o ausentes.",
  topic: "HCG como Marcador Tumoral"
},
{
  question: "Qual o mecanismo pelo qual tumores podem produzir HCG ectopicamente?",
  options: [
    "A) Por est√≠mulo hormonal da hip√≥fise anterior.",
    "B) Por desdiferencia√ß√£o celular ou reativa√ß√£o g√™nica, expressando genes que deveriam estar silenciados.",
    "C) Por absor√ß√£o do HCG do ambiente extracelular.",
    "D) Por infec√ß√£o viral que altera o genoma do tumor."
  ],
  correctAnswer: "B) Por desdiferencia√ß√£o celular ou reativa√ß√£o g√™nica, expressando genes que deveriam estar silenciados.",
  comment: "Tumores de c√©lulas germinativas ou carcinomas epiteliais podem sofrer desdiferencia√ß√£o celular ou reativa√ß√£o g√™nica. Isso faz com que c√©lulas tumorais passem a expressar genes que deveriam estar silenciados, produzindo a subunidade beta do HCG ou o horm√¥nio intacto.",
  topic: "Produ√ß√£o Ect√≥pica de HCG por Tumores"
},
{
  question: "Qual a fun√ß√£o estrat√©gica do HCG produzido por um tumor para o desenvolvimento do c√¢ncer?",
  options: [
    "A) Aumentar a velocidade de crescimento do tumor.",
    "B) Atrair c√©lulas imunes para o tumor, favorecendo a inflama√ß√£o.",
    "C) Deprimir o sistema imune e inibir a apoptose, protegendo o tumor e facilitando met√°stase.",
    "D) Promover a vasculariza√ß√£o do tumor, acelerando sua nutri√ß√£o."
  ],
  correctAnswer: "C) Deprimir o sistema imune e inibir a apoptose, protegendo o tumor e facilitando met√°stase.",
  comment: "O HCG produzido pelo tumor tem uma fun√ß√£o estrat√©gica para o c√¢ncer: ele deprime o sistema imune e inibe a apoptose (morte celular programada). No c√¢ncer, isso protege o tumor do ataque imunol√≥gico e facilita a met√°stase.",
  topic: "HCG e Imunossupress√£o Tumoral"
},
{
  question: "De acordo com o texto, como os tumores que produzem HCG tendem a ser em termos de agressividade?",
  options: [
    "A) Menos agressivos, pois o HCG √© um horm√¥nio de crescimento.",
    "B) Mais agressivos devido √† 'camuflagem' imunol√≥gica que o HCG proporciona.",
    "C) Neutros em agressividade, sem impacto do HCG.",
    "D) Vari√°veis, dependendo do tipo de HCG produzido."
  ],
  correctAnswer: "B) Mais agressivos devido √† 'camuflagem' imunol√≥gica que o HCG proporciona.",
  comment: "Tumores que produzem HCG tendem a ser mais agressivos devido a essa 'camuflagem' imunol√≥gica que impede o ataque do sistema imune.",
  topic: "Agressividade de Tumores Produtores de HCG"
},
{
  question: "Por que o feto √© considerado um aloenxerto ou semialog√™nico para a m√£e?",
  options: [
    "A) Porque ele √© geneticamente id√™ntico √† m√£e.",
    "B) Porque 50% de sua carga gen√©tica vem do pai e √© estranha ao sistema imune materno.",
    "C) Porque ele n√£o possui ant√≠genos reconhec√≠veis pelo sistema imune materno.",
    "D) Porque ele √© completamente estranho ao sistema imune materno."
  ],
  correctAnswer: "B) Porque 50% de sua carga gen√©tica vem do pai e √© estranha ao sistema imune materno.",
  comment: "O feto √© considerado um aloenxerto (ou semialog√™nico), pois 50% de sua carga gen√©tica vem do pai e √© estranha ao sistema imune materno.",
  topic: "Imunologia da Gesta√ß√£o"
},
{
  question: "Qual o poss√≠vel impacto da exposi√ß√£o pr√©via e cont√≠nua ao s√™men do parceiro na gesta√ß√£o, segundo as teorias apresentadas?",
  options: [
    "A) Sempre leva √† produ√ß√£o de anticorpos que causam infertilidade.",
    "B) Pode gerar uma toler√¢ncia imunol√≥gica em alguns casos ou anticorpos que causam infertilidade em outros.",
    "C) N√£o tem nenhum impacto na resposta imunol√≥gica materna.",
    "D) Aumenta o risco de Eritroblastose Fetal."
  ],
  correctAnswer: "B) Pode gerar uma toler√¢ncia imunol√≥gica em alguns casos ou anticorpos que causam infertilidade em outros.",
  comment: "Em alguns casos, a exposi√ß√£o cont√≠nua ao s√™men do parceiro pode gerar uma toler√¢ncia imunol√≥gica, enquanto em outros, pode gerar anticorpos que causam infertilidade.",
  topic: "Toler√¢ncia Imunol√≥gica e S√™men"
},
{
  question: "Na Eritroblastose Fetal, quando geralmente ocorre a sensibiliza√ß√£o da m√£e Rh negativo que gera um feto Rh positivo na primeira gesta√ß√£o?",
  options: [
    "A) No in√≠cio da gesta√ß√£o, durante o primeiro trimestre.",
    "B) Apenas no parto, quando o sangue fetal entra em contato com o materno.",
    "C) Durante a concep√ß√£o, no momento da fertiliza√ß√£o.",
    "D) Exclusivamente no segundo trimestre da gravidez."
  ],
  correctAnswer: "B) Apenas no parto, quando o sangue fetal entra em contato com o materno.",
  comment: "Na primeira gesta√ß√£o, a sensibiliza√ß√£o geralmente ocorre apenas no parto, quando o sangue fetal entra em contato com o materno, levando a m√£e a produzir anticorpos anti-Rh (IgG).",
  topic: "Eritroblastose Fetal - Sensibiliza√ß√£o"
},
{
  question: "O que acontece em uma segunda gesta√ß√£o de um feto Rh positivo por uma m√£e Rh negativo previamente sensibilizada, em rela√ß√£o √† Eritroblastose Fetal?",
  options: [
    "A) A m√£e produzir√° mais HCG, protegendo o feto.",
    "B) Os anticorpos IgG maternos atravessam a placenta e atacam as hem√°cias do feto.",
    "C) O feto desenvolver√° uma imunidade natural contra os anticorpos maternos.",
    "D) N√£o haver√° nenhuma rea√ß√£o, pois a primeira gesta√ß√£o j√° conferiu imunidade."
  ],
  correctAnswer: "B) Os anticorpos IgG maternos atravessam a placenta e atacam as hem√°cias do feto.",
  comment: "Em uma segunda gesta√ß√£o de feto Rh positivo, esses anticorpos IgG atravessam a placenta e atacam as hem√°cias do feto, causando a Doen√ßa Hemol√≠tica Perinatal.",
  topic: "Eritroblastose Fetal - Recorr√™ncia"
},
{
  question: "Qual o papel do sinciciotrofoblasto na barreira placent√°ria em rela√ß√£o ao sistema imune materno e √† imunidade passiva do beb√™?",
  options: [
    "A) Impede a passagem de todas as c√©lulas e anticorpos, isolando o feto.",
    "B) Impede a passagem de c√©lulas imunes maternas, mas permite a passagem de anticorpos (IgG) para imunidade passiva.",
    "C) Permite a passagem de todas as c√©lulas imunes, mas bloqueia os anticorpos.",
    "D) Estimula a produ√ß√£o de c√©lulas Natural Killer maternas para proteger o feto."
  ],
  correctAnswer: "B) Impede a passagem de c√©lulas imunes maternas, mas permite a passagem de anticorpos (IgG) para conferir imunidade passiva ao beb√™.",
  comment: "O sinciciotrofoblasto impede a passagem de c√©lulas imunes maternas (como c√©lulas Natural Killer e macr√≥fagos) que poderiam atacar o feto, mas permite a passagem de anticorpos (IgG) para conferir imunidade passiva ao beb√™.",
  topic: "Barreira Placent√°ria e Imunidade"
},
{
  question: "Como a imunossupress√£o modulada durante a gesta√ß√£o contribui para a toler√¢ncia imunol√≥gica materna?",
  options: [
    "A) H√° uma diminui√ß√£o de T-reguladores e aumento de citocinas pr√≥-inflamat√≥rias.",
    "B) H√° um aumento de T-reguladores, Interleucina-10 (IL-10) e TGF-Beta, criando um ambiente anti-inflamat√≥rio.",
    "C) Ocorre uma supress√£o completa de todas as c√©lulas imunes maternas.",
    "D) O sistema imune materno permanece inalterado, pois o feto n√£o √© reconhecido como estranho."
  ],
  correctAnswer: "B) H√° um aumento de T-reguladores, Interleucina-10 (IL-10) e TGF-Beta, criando um ambiente anti-inflamat√≥rio.",
  comment: "H√° uma mudan√ßa no perfil de citocinas, com aumento de T-reguladores, Interleucina-10 (IL-10) e TGF-Beta, criando um ambiente anti-inflamat√≥rio que favorece a toler√¢ncia imunol√≥gica.",
  topic: "Imunossupress√£o na Gravidez"
},
{
  question: "Qual o impacto da progesterona e dos glicocorticoides (cortisol) na resposta imune materna durante a gesta√ß√£o e qual a consequ√™ncia disso?",
  options: [
    "A) Estimulam a resposta imune materna, aumentando a resist√™ncia a infec√ß√µes.",
    "B) Atuam deprimindo a resposta imune materna, o que explica a maior suscetibilidade das gestantes a infec√ß√µes.",
    "C) N√£o t√™m impacto significativo na imunidade materna.",
    "D) Aumentam a produ√ß√£o de anticorpos espec√≠ficos contra pat√≥genos."
  ],
  correctAnswer: "B) Atuam deprimindo a resposta imune materna, o que explica a maior suscetibilidade das gestantes a infec√ß√µes.",
  comment: "A progesterona e os glicocorticoides (cortisol) atuam deprimindo a resposta imune materna, o que explica a maior suscetibilidade das gestantes a infec√ß√µes (como gripe e infec√ß√£o urin√°ria).",
  topic: "Horm√¥nios e Imunidade Materna"
},
{
  question: "Como √© definida a Idade Embrion√°ria na data√ß√£o da gravidez?",
  options: [
    "A) Conta a partir do primeiro dia da √∫ltima menstrua√ß√£o.",
    "B) Conta a partir da fecunda√ß√£o, cerca de 2 semanas ap√≥s a √∫ltima menstrua√ß√£o.",
    "C) Conta a partir da data de implanta√ß√£o do embri√£o.",
    "D) Conta a partir da primeira ultrassonografia."
  ],
  correctAnswer: "B) Conta a partir da fecunda√ß√£o, cerca de 2 semanas ap√≥s a √∫ltima menstrua√ß√£o.",
  comment: "A Idade Embrion√°ria conta a partir da fecunda√ß√£o (cerca de 2 semanas ap√≥s a √∫ltima menstrua√ß√£o).",
  topic: "Data√ß√£o da Gravidez - Idade Embrion√°ria"
},
{
  question: "Qual a defini√ß√£o de Idade Obst√©trica (ou Gestacional) e qual sua import√¢ncia cl√≠nica?",
  options: [
    "A) √â a idade do feto a partir da fecunda√ß√£o, usada para pesquisa.",
    "B) Conta a partir do primeiro dia da Data da √öltima Menstrua√ß√£o (DUM), sendo a usada clinicamente para uma gravidez de 40 semanas.",
    "C) √â a idade calculada a partir do momento da nida√ß√£o.",
    "D) √â a idade gestacional corrigida pela ultrassonografia apenas."
  ],
  correctAnswer: "B) Conta a partir do primeiro dia da Data da √öltima Menstrua√ß√£o (DUM), sendo a usada clinicamente para uma gravidez de 40 semanas.",
  comment: "A Idade Obst√©trica (Gestacional) conta a partir do primeiro dia da Data da √öltima Menstrua√ß√£o (DUM). √â a usada clinicamente, resultando em uma gravidez de 40 semanas.",
  topic: "Data√ß√£o da Gravidez - Idade Obst√©trica"
},
{
  question: "Como a Regra de Naegele √© utilizada para calcular a Data Prov√°vel do Parto (DPP)?",
  options: [
    "A) Adiciona-se 7 dias √† DUM e 9 meses.",
    "B) Soma-se 7 dias ao dia da DUM, subtrai-se 3 meses e adiciona-se 1 ano (se necess√°rio).",
    "C) Subtrai-se 7 dias da DUM e adiciona-se 9 meses.",
    "D) Adiciona-se 14 dias √† DUM e 9 meses."
  ],
  correctAnswer: "B) Soma-se 7 dias ao dia da DUM, subtrai-se 3 meses e adiciona-se 1 ano (se necess√°rio).",
  comment: "Para calcular a Data Prov√°vel do Parto (DPP): Soma-se 7 dias ao dia da DUM, subtrai-se 3 meses e adiciona-se 1 ano (se necess√°rio).",
  topic: "Regra de Naegele"
},
{
  question: "O que s√£o terat√≥genos?",
  options: [
    "A) Agentes que estimulam o crescimento fetal.",
    "B) Agentes que previnem infec√ß√µes na gesta√ß√£o.",
    "C) Agentes que causam malforma√ß√µes ou altera√ß√µes funcionais no feto.",
    "D) Agentes utilizados para aliviar os sintomas da gravidez."
  ],
  correctAnswer: "C) Agentes que causam malforma√ß√µes ou altera√ß√µes funcionais no feto.",
  comment: "Terat√≥genos s√£o agentes que causam malforma√ß√µes ou altera√ß√µes funcionais no feto.",
  topic: "Defini√ß√£o de Terat√≥genos"
},
{
  question: "Qual o risco de teratog√™nese no per√≠odo de 0 a 2 semanas de gesta√ß√£o, conforme a 'lei do tudo ou nada'?",
  options: [
    "A) M√°ximo risco de malforma√ß√µes graves.",
    "B) O embri√£o aborta ou se recupera totalmente, sem malforma√ß√µes.",
    "C) Apenas danos funcionais menores.",
    "D) O risco √© zero, pois o embri√£o ainda n√£o est√° formado."
  ],
  correctAnswer: "B) O embri√£o aborta ou se recupera totalmente, sem malforma√ß√µes.",
  comment: "No per√≠odo de 0 a 2 semanas, aplica-se a lei do 'tudo ou nada': ou aborta ou o embri√£o se recupera totalmente, sem malforma√ß√µes.",
  topic: "Teratog√™nese - Per√≠odo Pr√©-Embrion√°rio"
},
{
  question: "Em qual per√≠odo da gesta√ß√£o o risco de malforma√ß√µes estruturais graves devido a terat√≥genos √© m√°ximo?",
  options: [
    "A) No per√≠odo pr√©-embrion√°rio (0 a 2 semanas).",
    "B) No per√≠odo embrion√°rio (3 a 8 semanas), fase da organog√™nese.",
    "C) No per√≠odo fetal (9 semanas em diante).",
    "D) No terceiro trimestre da gesta√ß√£o."
  ],
  correctAnswer: "B) No per√≠odo embrion√°rio (3 a 8 semanas), fase da organog√™nese.",
  comment: "No per√≠odo embrion√°rio (3 a 8 semanas), que √© a fase da organog√™nese, o risco de malforma√ß√µes estruturais graves √© m√°ximo.",
  topic: "Teratog√™nese - Per√≠odo Embrion√°rio"
},
{
  question: "A partir de 9 semanas (per√≠odo fetal), como o risco de teratog√™nese se manifesta?",
  options: [
    "A) O risco de malforma√ß√µes estruturais graves ainda √© m√°ximo.",
    "B) O risco aumenta consideravelmente para todos os tipos de danos.",
    "C) O risco diminui, mas ainda pode haver danos funcionais.",
    "D) O feto torna-se completamente imune aos terat√≥genos."
  ],
  correctAnswer: "C) O risco diminui, mas ainda pode haver danos funcionais.",
  comment: "No per√≠odo fetal (9 semanas em diante), que √© a fase de crescimento, o risco de malforma√ß√µes estruturais graves diminui, mas ainda pode haver danos funcionais.",
  topic: "Teratog√™nese - Per√≠odo Fetal"
},
{
  question: "Quais os principais efeitos do tabagismo na gesta√ß√£o?",
  options: [
    "A) Aumento do peso fetal e desenvolvimento acelerado.",
    "B) Vasoconstri√ß√£o placent√°ria, hip√≥xia fetal, redu√ß√£o da transfer√™ncia de anticorpos, levando a baixo peso e atraso no crescimento.",
    "C) Melhoria da imunidade fetal e preven√ß√£o de infec√ß√µes.",
    "D) Nenhuma altera√ß√£o significativa no desenvolvimento fetal."
  ],
  correctAnswer: "B) Vasoconstri√ß√£o placent√°ria, hip√≥xia fetal, redu√ß√£o da transfer√™ncia de anticorpos, levando a baixo peso e atraso no crescimento.",
  comment: "O tabagismo causa vasoconstri√ß√£o placent√°ria, hip√≥xia fetal e reduz a transfer√™ncia de anticorpos, levando a baixo peso e atraso no crescimento.",
  topic: "Teratog√™nese - Tabagismo"
},
{
  question: "Qual a s√≠ndrome associada ao consumo de √°lcool durante a gesta√ß√£o?",
  options: [
    "A) S√≠ndrome de Down.",
    "B) S√≠ndrome de Turner.",
    "C) S√≠ndrome Alco√≥lica Fetal.",
    "D) S√≠ndrome do Cromossomo X Fr√°gil."
  ],
  correctAnswer: "C) S√≠ndrome Alco√≥lica Fetal.",
  comment: "O √°lcool causa S√≠ndrome Alco√≥lica Fetal, com uma s√©rie de malforma√ß√µes e atrasos no desenvolvimento.",
  topic: "Teratog√™nese - √Ålcool"
},
{
  question: "Qual grave malforma√ß√£o cong√™nita foi associada ao uso da Talidomida?",
  options: [
    "A) S√≠ndrome de Down.",
    "B) Microcefalia.",
    "C) Focomelia (encurtamento/aus√™ncia de membros).",
    "D) Cardiopatia cong√™nita isolada."
  ],
  correctAnswer: "C) Focomelia (encurtamento/aus√™ncia de membros).",
  comment: "A Talidomida, medicamento antigo para enjoo, causava focomelia (encurtamento/aus√™ncia de membros).",
  topic: "Teratog√™nese - Talidomida"
},
{
  question: "A Isotretino√≠na (Roacutan) √© um potente terat√≥geno. Quais os principais sistemas afetados e qual a recomenda√ß√£o para mulheres em idade f√©rtil?",
  options: [
    "A) Afeta apenas o sistema musculoesquel√©tico; requer suplementa√ß√£o de c√°lcio.",
    "B) Causa graves malforma√ß√µes no sistema nervoso central e card√≠acas; exige desintoxica√ß√£o prolongada antes de engravidar.",
    "C) Causa defeitos no tubo neural; exige suplementa√ß√£o de √°cido f√≥lico.",
    "D) Afeta principalmente o sistema digest√≥rio; exige dieta especial."
  ],
  correctAnswer: "B) Causa graves malforma√ß√µes no sistema nervoso central e card√≠acas; exige desintoxica√ß√£o prolongada antes de engravidar.",
  comment: "A Isotretino√≠na (Roacutan) causa graves malforma√ß√µes no sistema nervoso central e card√≠acas. Exige desintoxica√ß√£o prolongada antes de engravidar devido √† sua longa meia-vida.",
  topic: "Teratog√™nese - Isotretino√≠na"
},
{
  question: "Qual a recomenda√ß√£o para uma gestante que usa √Åcido Valproico (anticonvulsivante) devido ao risco de defeitos no tubo neural?",
  options: [
    "A) Parar a medica√ß√£o abruptamente para evitar o risco fetal.",
    "B) Manter a medica√ß√£o, pois n√£o h√° risco conhecido.",
    "C) N√£o parar abruptamente (risco de convuls√£o), mas trocar o f√°rmaco se poss√≠vel e suplementar com altas doses de √°cido f√≥lico.",
    "D) Aumentar a dose do √°cido valproico para proteger o feto."
  ],
  correctAnswer: "C) N√£o parar abruptamente (risco de convuls√£o), mas trocar o f√°rmaco se poss√≠vel e suplementar com altas doses de √°cido f√≥lico.",
  comment: "O √Åcido Valproico √© associado a defeitos no tubo neural. A recomenda√ß√£o n√£o √© parar abruptamente a medica√ß√£o (risco de convuls√£o), mas trocar o f√°rmaco se poss√≠vel e suplementar com altas doses de √°cido f√≥lico para mitigar o risco.",
  topic: "Teratog√™nese - √Åcido Valproico"
} ];

    function buildQuiz() {
        const output = [];
        questions.forEach((currentQuestion, questionNumber) => {
            const options = [];
            for (let i = 0; i < currentQuestion.options.length; i++) {
                // Note o uso de ${...} para template literals do JS dentro da f-string
                options.push(
                    `<label class="option" data-question="${questionNumber}" data-value="${currentQuestion.options[i]}">
                        <img src="tesouras.png" class="scissor-icon" onclick="event.stopPropagation(); this.parentNode.classList.toggle('struck-through');">
                        ${currentQuestion.options[i]}
                    </label>`
                );
            }
            output.push(
                `<div class="card" id="question-${questionNumber}" data-topic="${currentQuestion.topic}">
                    <div class="question">${currentQuestion.question}</div>
                    <div class="options">${options.join("")}</div>
                    <div class="comment" id="comment-${questionNumber}"></div>
                </div>`
            );
        });
        quizContainer.innerHTML = output.join("");
    }

    function showResults() {
        wrongQuestionIndices = [];
        errorCountByTopic = {};
        totalAnsweredQuestionsByTopic = {};
        currentWrongQuestionIndex = -1;
        hasErrors = false;
        errorDiagnosisSection.style.display = 'none';
        topicsToReviewList.innerHTML = '';
        statusMessage.textContent = '';

        const allQuestionCards = document.querySelectorAll('.quiz-container .card, #newQuestionsContent .card');
        let correctAnswersCount = 0;
        let totalQuestionsAnswered = 0;

        allQuestionCards.forEach((card, index) => {
            const questionEl = card.querySelector('.question') || card.querySelector('p');
            if (!questionEl) return;
            
            const questionText = questionEl.textContent.trim();
            const optionsContainer = card.querySelector('.options') || card;
            const allOptions = optionsContainer.querySelectorAll('.option, label.option, label');
            const userAnswerElement = optionsContainer.querySelector('.option.selected, label.selected');
            const commentDiv = card.querySelector('.comment');
            const questionTopic = card.dataset.topic || "T√≥pico n√£o informado";

            // Limpa classes
            allOptions.forEach(option => { option.classList.remove('correct', 'incorrect', 'selected'); });
            if (commentDiv) commentDiv.classList.remove('show');

            let correctAnswerValue = null;
            let questionComment = null;

            // L√≥gica para Est√°ticas vs Din√¢micas
            const isStatic = card.id && card.id.startsWith('question-');
            if (isStatic) {
                const questionData = questions.find(q => q.question.trim() === questionText);
                if (questionData) {
                    correctAnswerValue = questionData.correctAnswer.trim();
                    questionComment = questionData.comment;
                }
            } else {
                const correctOpt = optionsContainer.querySelector('.option[data-answer="true"], label[data-answer="true"]');
                if (correctOpt) correctAnswerValue = correctOpt.dataset.value?.trim() || correctOpt.textContent.trim();
                
                const commentElement = card.querySelector('.comment');
                if (commentElement && commentElement.textContent.trim()) questionComment = commentElement.textContent.trim();
            }

            // Verifica resposta
            let userAnswer = null;
            if (userAnswerElement) {
                userAnswerElement.classList.add('selected');
                userAnswer = userAnswerElement.dataset.value?.trim() || userAnswerElement.textContent.trim();
                totalQuestionsAnswered++;
                totalAnsweredQuestionsByTopic[questionTopic] = (totalAnsweredQuestionsByTopic[questionTopic] || 0) + 1;

                if (userAnswer === correctAnswerValue) {
                    correctAnswersCount++;
                } else {
                    hasErrors = true;
                    errorCountByTopic[questionTopic] = (errorCountByTopic[questionTopic] || 0) + 1;
                }
            }

            // Pinta as op√ß√µes
            allOptions.forEach(option => {
                const optionValue = option.dataset.value?.trim() || option.textContent.trim();
                if (optionValue === correctAnswerValue) option.classList.add('correct');
                if (userAnswer && optionValue === userAnswer && userAnswer !== correctAnswerValue) option.classList.add('incorrect');
            });

            if (commentDiv && questionComment) {
                commentDiv.textContent = questionComment;
                commentDiv.classList.add('show');
            }
        });

        resultsContainer.textContent = `Voc√™ acertou ${correctAnswersCount} de ${totalQuestionsAnswered} quest√µes respondidas.`;

        // Diagn√≥stico
        if (hasErrors) {
            for (const topic in errorCountByTopic) {
                const errors = errorCountByTopic[topic];
                const total = totalAnsweredQuestionsByTopic[topic] || 0;
                if (total > 0) {
                    const percent = ((errors / total) * 100).toFixed(1);
                    const li = document.createElement('li');
                    li.textContent = `${topic}: ${percent}% de erros (${errors} de ${total} quest√µes)`;
                    topicsToReviewList.appendChild(li);
                }
            }
            errorDiagnosisSection.style.display = 'block';
            generatedQuestionsSection.style.display = 'block';
            generateNewQuestionsBtn.style.display = 'block';
            errorDiagnosisSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else {
            const li = document.createElement('li');
            li.textContent = "ü•≥ Parab√©ns! Voc√™ n√£o teve erros nas quest√µes respondidas.";
            topicsToReviewList.appendChild(li);
        }
    }

    // Listeners
    document.addEventListener("click", function (event) {
        const clickedElement = event.target;
        const optionElement = clickedElement.closest('.option');
        if (optionElement) {
            if (clickedElement.classList.contains("scissor-icon")) {
                event.stopPropagation();
                optionElement.classList.toggle("struck-through");
            } else {
                const parentCard = optionElement.closest('.card');
                const currentQuestionOptions = parentCard.querySelectorAll('.option');
                currentQuestionOptions.forEach(opt => opt.classList.remove("selected"));
                optionElement.classList.add("selected");
            }
        }
    });

    generateNewQuestionsBtn.addEventListener("click", async function() {
        statusMessage.textContent = '‚è≥ Gerando novas perguntas...';
        generateNewQuestionsBtn.disabled = true;
        
        const topics = Object.keys(errorCountByTopic).filter(topic => {
            const errorsInTopic = errorCountByTopic[topic] || 0;
            const totalAnsweredInTopic = totalAnsweredQuestionsByTopic[topic] || 0;
            return errorsInTopic > 0 && totalAnsweredInTopic > 0;
        });
        
        const topicsToSend = topics.length > 0 ? topics : ["fisiologia celular", "biologia"];

        try {
            const response = await fetch('https://www.quizia.xyz/quiz', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ topicos: topicsToSend }),
            });

            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            
            const data = await response.json();
            newQuestionsContent.innerHTML = '';

            if (data && data.html) {
                newQuestionsContent.innerHTML = data.html.replace(/```html|```/g, '');
                
                newQuestionsContent.querySelectorAll('.card').forEach((card) => {
                    // L√≥gica de limpeza e adi√ß√£o de tesouras (mantida igual)
                    const questionElement = card.querySelector('p');
                    if (questionElement && !questionElement.classList.contains('question')) questionElement.classList.add('question');
                    
                    card.querySelectorAll('label').forEach((label) => {
                        const radioInput = label.querySelector('input[type="radio"]');
                        if (radioInput) {
                            if (radioInput.hasAttribute('data-answer')) label.setAttribute('data-answer', radioInput.getAttribute('data-answer'));
                            radioInput.remove();
                        }
                        if (!label.classList.contains('option')) label.classList.add('option');
                        if (!label.dataset.value) label.dataset.value = label.textContent.trim();
                        if (!label.querySelector('.scissor-icon')) {
                            const scissorIcon = document.createElement('img');
                            scissorIcon.src = 'tesouras.png';
                            scissorIcon.className = 'scissor-icon';
                            scissorIcon.onclick = function(e) { e.stopPropagation(); label.classList.toggle('struck-through'); };
                            label.insertBefore(scissorIcon, label.firstChild);
                        }
                    });
                });
            } else {
                newQuestionsContent.innerHTML = "<p>N√£o foi poss√≠vel gerar novas perguntas.</p>";
            }
            
            generatedQuestionsSection.style.display = 'block';
            generatedQuestionsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            statusMessage.textContent = '‚úÖ Perguntas geradas com sucesso!';
            setTimeout(() => { statusMessage.textContent = '' }, 3000);
            
        } catch (error) {
            console.error('Erro:', error);
            statusMessage.textContent = '‚ùå Erro: ' + error.message;
            setTimeout(() => { statusMessage.textContent = '' }, 5000);
        } finally {
            generateNewQuestionsBtn.disabled = false;
        }
    });

    buildQuiz();
    document.getElementById("verifyAnswersBtn").addEventListener("click", showResults);
</script>
<script src="conexao_firebase.js"></script><script src="navegacao.js"></script><script type="module" src="padrao_simulado.js"></script>
</body>
</html>
