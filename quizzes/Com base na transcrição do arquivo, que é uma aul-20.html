
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Com base na transcri√ß√£o do arquivo, que √© uma aul-20</title>
    <style>
        body { font-family: sans-serif; margin: 0; padding: 20px; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; background-color: #f4f4f4; }
        .quiz-container { max-width: 800px; width: 100%; }
        h1 { color: #333; text-align: center; margin-bottom: 30px; }
        .card { background-color: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .question { font-weight: bold; margin-bottom: 10px; color: #333; }
        .options { margin-top: 15px; }
        
        /* Estilos das op√ß√µes */
        .option, label.option, label, #newQuestionsContent label { display: flex; align-items: center; margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; cursor: pointer; transition: background-color 0.2s ease; position: relative; }
        
        /* Ocultar Radio inputs */
        .option input[type="radio"], label input[type="radio"], #newQuestionsContent input[type="radio"], #newQuestionsContent label input[type="radio"] { display: none !important; visibility: hidden !important; opacity: 0 !important; position: absolute !important; left: -9999px !important; }
        
        .option:hover, label.option:hover, label:hover, #newQuestionsContent label:hover { background-color: #e9e9e9; }
        .option.selected, label.option.selected, label.selected, #newQuestionsContent label.selected { background-color: #d1e7dd; border-color: #28a745; }
        .option.correct, label.option.correct, label.correct, #newQuestionsContent label.correct { background-color: #d4edda; border-color: #28a745; }
        .option.incorrect, label.option.incorrect, label.incorrect, #newQuestionsContent label.incorrect { background-color: #f8d7da; border-color: #dc3545; }
        
        .submit-btn { display: block; width: 100%; padding: 15px; background-color: #007bff; color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; transition: background-color 0.3s ease; margin-top: 30px; }
        .submit-btn:hover { background-color: #0056b3; }
        
        .results { text-align: center; margin-top: 30px; font-size: 20px; font-weight: bold; color: #333; }
        .scissor-icon { margin-right: 10px; width: 20px; height: 20px; opacity: 0.5; cursor: pointer; }
        .scissor-icon.hidden { display: none; }
        .struck-through { text-decoration: line-through; color: #888; }
        
        .comment { margin-top: 10px; padding: 10px; background-color: #f0f0f0; border-left: 4px solid #007bff; font-style: italic; color: #555; display: none; }
        .comment.show { display: block; }
        
        .card-bloco { border: 1px solid #ddd; border-radius: 6px; padding: 10px; background: #fff; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        
        /* Diagn√≥stico e Erros */
        .error-diagnosis-section { margin-top: 50px; padding: 30px; background-color: #ffe0b2; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.15); display: none; text-align: center; font-size: 1.1em; color: #333; }
        .error-diagnosis-section h2 { color: #e65100; margin-bottom: 20px; font-size: 1.8em; }
        .error-diagnosis-section ul { list-style: none; padding: 0; margin: 0; }
        .error-diagnosis-section li { background-color: #ff9800; color: white; padding: 8px 15px; margin: 8px 0; border-radius: 5px; display: inline-block; margin-right: 10px; font-weight: bold; }
    </style>
</head>
<body>

    <div class="quiz-container" id="quiz-container">
        <h1>Com base na transcri√ß√£o do arquivo, que √© uma aul-20</h1>
        
        <div id="quiz"></div>
        
        <button class="submit-btn" id="verifyAnswersBtn">Verificar Respostas</button>
        <button class="generate-questions-btn submit-btn" id="generateNewQuestionsBtn" style="display:none;">Gerar Novas Perguntas</button>
        
        <div class="results card-bloco" id="results"></div>
        <div id="statusMessage" style="text-align: center; margin-top: 10px; font-weight: bold; color: #007bff;"></div>
        
        <div class="error-diagnosis-section card-bloco" id="errorDiagnosis">
            <h2>Diagn√≥stico de Erros</h2>
            <p>Parece que voc√™ precisa revisar os seguintes assuntos:</p>
            <ul id="topicsToReview"></ul>
        </div>
        
        <div class="generated-questions-section card-bloco" id="generatedQuestionsSection" style="display:none;">
            <h2>Novas Perguntas Geradas</h2>
            <div id="newQuestionsContent"></div>
        </div>
    </div>

<script>
    const quizContainer = document.getElementById("quiz");
    const resultsContainer = document.getElementById("results");
    const errorDiagnosisSection = document.getElementById("errorDiagnosis");
    const topicsToReviewList = document.getElementById("topicsToReview");
    const generateNewQuestionsBtn = document.getElementById("generateNewQuestionsBtn");
    const generatedQuestionsSection = document.getElementById("generatedQuestionsSection");
    const newQuestionsContent = document.getElementById("newQuestionsContent");
    const statusMessage = document.getElementById("statusMessage");

    let wrongQuestionIndices = [];
    let errorCountByTopic = {};  // CORRIGIDO: chaves duplas para objeto JS vazio
    let totalAnsweredQuestionsByTopic = {}; // CORRIGIDO
    let currentWrongQuestionIndex = -1;
    let hasErrors = false;

    // Inicializa display
    errorDiagnosisSection.style.display = 'none';
    topicsToReviewList.innerHTML = '';
    statusMessage.textContent = '';

    // AQUI entra a vari√°vel Python, ent√£o usamos chaves simples:
    const questions = [ {
  question: "Qual a defini√ß√£o estrutural da placenta, segundo a aula?",
  options: [
    "A) Um √≥rg√£o exclusivamente fetal derivado do √¢mnio.",
    "B) Um √≥rg√£o misto constitu√≠do por uma por√ß√£o fetal (do saco cori√¥nico) e uma por√ß√£o materna (do endom√©trio uterino).",
    "C) Um √≥rg√£o exclusivamente materno, derivado do miom√©trio.",
    "D) Um √≥rg√£o tempor√°rio que se forma a partir da ves√≠cula umbilical."
  ],
  correctAnswer: "B) Um √≥rg√£o misto constitu√≠do por uma por√ß√£o fetal (do saco cori√¥nico) e uma por√ß√£o materna (do endom√©trio uterino).",
  comment: "A placenta √© um √≥rg√£o vital que integra tecidos fetais e maternos para permitir as trocas necess√°rias ao desenvolvimento do embri√£o.",
  topic: "Defini√ß√£o e Origem da Placenta"
},
{
  question: "No processo de implanta√ß√£o, quais s√£o as duas diferencia√ß√µes do trofoblasto mencionadas na aula?",
  options: [
    "A) Mesoderma e endoderma.",
    "B) Sinciciotrofoblasto e citotrofoblasto.",
    "C) Ectoderma e mesoderma.",
    "D) √Çmnio e c√≥rion."
  ],
  correctAnswer: "B) Sinciciotrofoblasto e citotrofoblasto.",
  comment: "O trofoblasto, ao se diferenciar, forma o sinciciotrofoblasto e o citotrofoblasto, essenciais para a invas√£o do endom√©trio e produ√ß√£o hormonal.",
  topic: "Implanta√ß√£o e Diferencia√ß√£o do Trofoblasto"
},
{
  question: "Qual √© o nome dado ao endom√©trio funcional de uma mulher gr√°vida e qual sua import√¢ncia cl√≠nica?",
  options: [
    "A) Miom√©trio, importante para a contra√ß√£o uterina.",
    "B) Perim√©trio, importante para o revestimento externo do √∫tero.",
    "C) Dec√≠dua, importante para nutrir o embri√£o e restringir a invas√£o trofobl√°stica.",
    "D) Endom√©trio proliferativo, importante para a fase folicular."
  ],
  correctAnswer: "C) Dec√≠dua, importante para nutrir o embri√£o e restringir a invas√£o trofobl√°stica.",
  comment: "A dec√≠dua √© crucial para o suporte inicial do embri√£o e para proteger o √∫tero de uma invas√£o trofobl√°stica excessiva, prevenindo condi√ß√µes como o acretismo placent√°rio.",
  topic: "Dec√≠dua e suas Fun√ß√µes"
},
{
  question: "A dec√≠dua basal √© classificada como a por√ß√£o do endom√©trio localizada:",
  options: [
    "A) Superficialmente ao concepto, recobrindo-o como uma c√°psula.",
    "B) Profundamente ao concepto, na base de implanta√ß√£o, onde se formar√° a por√ß√£o materna da placenta.",
    "C) No restante da mucosa uterina que reveste a cavidade do √∫tero.",
    "D) Pr√≥xima ao colo uterino, prevenindo a dilata√ß√£o prematura."
  ],
  correctAnswer: "B) Profundamente ao concepto, na base de implanta√ß√£o, onde se formar√° a por√ß√£o materna da placenta.",
  comment: "A dec√≠dua basal √© a regi√£o da implanta√ß√£o fetal, sendo a parte materna da futura placenta.",
  topic: "Classifica√ß√£o da Dec√≠dua"
},
{
  question: "Qual estrutura √© respons√°vel pela produ√ß√£o hormonal, como o hCG, no in√≠cio da gravidez?",
  options: [
    "A) Citotrofoblasto.",
    "B) Sinciciotrofoblasto.",
    "C) C√≥rion liso.",
    "D) Dec√≠dua capsular."
  ],
  correctAnswer: "B) Sinciciotrofoblasto.",
  comment: "O sinciciotrofoblasto √© a camada multinucleada do trofoblasto que secreta horm√¥nios importantes para a manuten√ß√£o da gravidez, como o hCG.",
  topic: "Sinciciotrofoblasto e Horm√¥nios"
},
{
  question: "O que o 'sinal do duplo anel decidual' indica no ultrassom?",
  options: [
    "A) Uma gravidez ect√≥pica.",
    "B) A presen√ßa de um cisto ovariano.",
    "C) Uma gravidez intrauterina vi√°vel nas fases iniciais.",
    "D) Um descolamento prematuro da placenta."
  ],
  correctAnswer: "C) Uma gravidez intrauterina vi√°vel nas fases iniciais.",
  comment: "O sinal do duplo anel decidual √© um achado ultrassonogr√°fico precoce que sugere fortemente uma gravidez intrauterina.",
  topic: "Diagn√≥stico Ultrassonogr√°fico na Gravidez"
},
{
  question: "A placenta pr√©via √© uma condi√ß√£o cl√≠nica em que:",
  options: [
    "A) A placenta se implanta na parte superior do √∫tero, longe do colo.",
    "B) A placenta se implanta na parte inferior do √∫tero, podendo cobrir o colo.",
    "C) A placenta penetra excessivamente na parede uterina.",
    "D) A placenta n√£o se desenvolve adequadamente, resultando em retardo de crescimento."
  ],
  correctAnswer: "B) A placenta se implanta na parte inferior do √∫tero, podendo cobrir o colo.",
  comment: "A placenta pr√©via √© uma causa importante de sangramento vaginal no final da gravidez e pode exigir parto cesariano.",
  topic: "Complica√ß√µes Placent√°rias"
},
{
  question: "Qual a fun√ß√£o da dec√≠dua em rela√ß√£o √† invas√£o do sinciciotrofoblasto?",
  options: [
    "A) Estimular a invas√£o para garantir maior contato com o sangue materno.",
    "B) Conter a invas√£o, impedindo que penetre excessivamente na parede uterina.",
    "C) N√£o ter nenhuma fun√ß√£o protetora contra a invas√£o.",
    "D) Produzir enzimas que dissolvem o sinciciotrofoblasto ap√≥s a implanta√ß√£o."
  ],
  correctAnswer: "B) Conter a invas√£o, impedindo que penetre excessivamente na parede uterina.",
  comment: "A dec√≠dua age como uma barreira protetora contra a invas√£o excessiva do trofoblasto, que poderia levar a quadros como o acretismo placent√°rio.",
  topic: "Fun√ß√£o da Dec√≠dua"
},
{
  question: "At√© a 8¬™ semana de gesta√ß√£o, como s√£o as vilosidades cori√¥nicas?",
  options: [
    "A) Elas j√° est√£o completamente degeneradas.",
    "B) Elas cobrem todo o saco cori√¥nico.",
    "C) Elas se limitam apenas √† regi√£o da dec√≠dua basal.",
    "D) Elas formam o c√≥rion liso exclusivamente."
  ],
  correctAnswer: "B) Elas cobrem todo o saco cori√¥nico.",
  comment: "No in√≠cio da gesta√ß√£o, o saco cori√¥nico √© uniformemente coberto por vilosidades.",
  topic: "Evolu√ß√£o das Vilosidades Cori√¥nicas"
},
{
  question: "O que leva √† forma√ß√£o do c√≥rion liso (c√≥rion laeve)?",
  options: [
    "A) A prolifera√ß√£o intensa das vilosidades na dec√≠dua basal.",
    "B) A degenera√ß√£o das vilosidades associadas √† dec√≠dua capsular devido √† compress√£o e redu√ß√£o de suprimento sangu√≠neo.",
    "C) A fus√£o do √¢mnio com o c√≥rion.",
    "D) O desaparecimento completo do citotrofoblasto."
  ],
  correctAnswer: "B) A degenera√ß√£o das vilosidades associadas √† dec√≠dua capsular devido √† compress√£o e redu√ß√£o de suprimento sangu√≠neo.",
  comment: "√Ä medida que o saco gestacional cresce, as vilosidades n√£o funcionais da dec√≠dua capsular s√£o comprimidas e regridem, formando o c√≥rion liso.",
  topic: "Forma√ß√£o do C√≥rion Liso"
},
{
  question: "Qual estrutura constituir√° a por√ß√£o fetal da placenta funcional?",
  options: [
    "A) O c√≥rion liso (c√≥rion laeve).",
    "B) A dec√≠dua capsular.",
    "C) O c√≥rion viloso (c√≥rion frondosum).",
    "D) A ves√≠cula umbilical."
  ],
  correctAnswer: "C) O c√≥rion viloso (c√≥rion frondosum).",
  comment: "O c√≥rion viloso √© a parte do c√≥rion que se desenvolve intensamente, formando as vilosidades que participar√£o ativamente das trocas materno-fetais na placenta.",
  topic: "Forma√ß√£o da Por√ß√£o Fetal da Placenta"
},
{
  question: "Qual membrana √© popularmente conhecida como a 'bolsa d'√°gua' e se rompe no trabalho de parto?",
  options: [
    "A) A dec√≠dua parietal.",
    "B) A membrana amniocori√¥nica.",
    "C) A dec√≠dua basal.",
    "D) O c√≥rion liso."
  ],
  correctAnswer: "B) A membrana amniocori√¥nica.",
  comment: "A membrana amniocori√¥nica √© formada pela fus√£o do √¢mnio com o c√≥rion, e sua ruptura marca o in√≠cio ou a progress√£o do trabalho de parto.",
  topic: "Anexos Embrion√°rios e Parto"
},
{
  question: "O que acontece com a cavidade uterina conforme o feto cresce, em rela√ß√£o √†s dec√≠duas?",
  options: [
    "A) A cavidade uterina se expande infinitamente.",
    "B) A dec√≠dua capsular se fusiona com a dec√≠dua parietal, obliterando a cavidade uterina.",
    "C) A dec√≠dua basal se fusiona com a dec√≠dua parietal.",
    "D) A dec√≠dua capsular se mant√©m separada da dec√≠dua parietal."
  ],
  correctAnswer: "B) A dec√≠dua capsular se fusiona com a dec√≠dua parietal, obliterando a cavidade uterina.",
  comment: "O crescimento do feto e do saco gestacional leva √† compress√£o e fus√£o das dec√≠duas, resultando na oblitera√ß√£o da cavidade uterina.",
  topic: "Evolu√ß√£o das Membranas e Cavidade Uterina"
},
{
  question: "Por que a ruptura da 'bolsa d'√°gua' n√£o resulta em perda total e imediata de todo o l√≠quido amni√≥tico?",
  options: [
    "A) Porque a produ√ß√£o de l√≠quido amni√≥tico cessa imediatamente.",
    "B) Porque o feto tampona o canal de parto e a produ√ß√£o de l√≠quido continua fisiologicamente.",
    "C) Porque o l√≠quido √© reabsorvido rapidamente pelo √∫tero.",
    "D) Porque a ruptura √© sempre parcial e pequena."
  ],
  correctAnswer: "B) Porque o feto tampona o canal de parto e a produ√ß√£o de l√≠quido continua fisiologicamente.",
  comment: "A cabe√ßa do feto atua como um tamp√£o no canal de parto, permitindo a sa√≠da gradual do l√≠quido amni√≥tico, que tamb√©m continua a ser produzido.",
  topic: "L√≠quido Amni√≥tico e Parto"
},
{
  question: "Qual a import√¢ncia de examinar a placenta ap√≥s o parto?",
  options: [
    "A) Para determinar o sexo do beb√™.",
    "B) Para verificar se a placenta saiu inteira, com os cotil√©dones √≠ntegros, prevenindo hemorragias e infec√ß√µes.",
    "C) Para realizar a placentofagia imediatamente.",
    "D) Para coletar c√©lulas-tronco apenas."
  ],
  correctAnswer: "B) Para verificar se a placenta saiu inteira, com os cotil√©dones √≠ntegros, prevenindo hemorragias e infec√ß√µes.",
  comment: "A reten√ß√£o de restos placent√°rios √© uma causa comum de complica√ß√µes puerperais, como hemorragias e infec√ß√µes, da√≠ a import√¢ncia do exame p√≥s-parto.",
  topic: "Puerp√©rio e Exame da Placenta"
},
{
  question: "Qual a principal caracter√≠stica da face materna da placenta?",
  options: [
    "A) √â lisa e brilhante, coberta pelo √¢mnio.",
    "B) Possui aspecto lobulado (cotil√©dones), coberta por uma fina camada de dec√≠dua basal.",
    "C) √â o local de inser√ß√£o do cord√£o umbilical.",
    "D) Apresenta vasos cori√¥nicos vis√≠veis."
  ],
  correctAnswer: "B) Possui aspecto lobulado (cotil√©dones), coberta por uma fina camada de dec√≠dua basal.",
  comment: "A face materna da placenta √© caracterizada pelos cotil√©dones, que s√£o √°reas lobuladas resultantes da segmenta√ß√£o da dec√≠dua basal.",
  topic: "Anatomia Macrosc√≥pica da Placenta"
},
{
  question: "Como o sangue materno, rico em oxig√™nio e nutrientes, chega ao espa√ßo interviloso da placenta?",
  options: [
    "A) Atrav√©s das veias umbilicais.",
    "B) Atrav√©s das art√©rias espiraladas do endom√©trio.",
    "C) Atrav√©s dos capilares fetais.",
    "D) Diretamente das veias uterinas."
  ],
  correctAnswer: "B) Atrav√©s das art√©rias espiraladas do endom√©trio.",
  comment: "As art√©rias espiraladas maternas se abrem no espa√ßo interviloso, onde o sangue materno banha as vilosidades cori√¥nicas.",
  topic: "Circula√ß√£o Materna na Placenta"
},
{
  question: "Qual o caminho do sangue fetal na placenta para ser oxigenado?",
  options: [
    "A) Chega pela veia umbilical, entra nos capilares das vilosidades, e retorna pelas art√©rias umbilicais.",
    "B) Chega pelas art√©rias espiraladas, entra nos capilares maternos, e retorna pelas veias endometriais.",
    "C) Chega pelas duas art√©rias umbilicais, entra nos capilares das vilosidades, e retorna pela veia umbilical.",
    "D) O sangue fetal n√£o √© oxigenado na placenta, apenas no pulm√£o fetal."
  ],
  correctAnswer: "C) Chega pelas duas art√©rias umbilicais, entra nos capilares das vilosidades, e retorna pela veia umbilical.",
  comment: "As art√©rias umbilicais levam sangue desoxigenado do feto para a placenta, onde ocorre a troca gasosa, e a veia umbilical retorna sangue oxigenado para o feto.",
  topic: "Circula√ß√£o Fetal na Placenta"
},
{
  question: "Em condi√ß√µes normais, o que ocorre entre o sangue materno e o fetal na placenta?",
  options: [
    "A) H√° mistura direta de sangue.",
    "B) N√£o h√° mistura direta, mas s√£o separados pela membrana placent√°ria.",
    "C) O sangue materno e fetal s√£o id√™nticos, n√£o havendo necessidade de separa√ß√£o.",
    "D) O sangue fetal √© completamente isolado e n√£o entra em contato com a placenta."
  ],
  correctAnswer: "B) N√£o h√° mistura direta, mas s√£o separados pela membrana placent√°ria.",
  comment: "A barreira placent√°ria assegura que o sangue materno e fetal n√£o se misturem diretamente, permitindo as trocas sem contamina√ß√£o entre os dois sistemas.",
  topic: "Barreira Placent√°ria"
},
{
  question: "Qual a composi√ß√£o da barreira placent√°ria at√© as 20 semanas de gesta√ß√£o?",
  options: [
    "A) Apenas sinciciotrofoblasto e endot√©lio vascular.",
    "B) Sinciciotrofoblasto, citotrofoblasto, tecido conjuntivo e endot√©lio capilar.",
    "C) Apenas tecido conjuntivo e endot√©lio capilar.",
    "D) Apenas citotrofoblasto e sinciciotrofoblasto."
  ],
  correctAnswer: "B) Sinciciotrofoblasto, citotrofoblasto, tecido conjuntivo e endot√©lio capilar.",
  comment: "No in√≠cio da gesta√ß√£o, a barreira placent√°ria √© mais espessa, contendo essas quatro camadas para proteger o feto em desenvolvimento.",
  topic: "Composi√ß√£o da Barreira Placent√°ria"
},
{
  question: "Ap√≥s 20 semanas de gesta√ß√£o, o que acontece com a barreira placent√°ria para facilitar as trocas?",
  options: [
    "A) Ela se torna mais espessa, adicionando mais camadas.",
    "B) O citotrofoblasto prolifera, aumentando a espessura.",
    "C) Ela se torna mais fina, com o desaparecimento do citotrofoblasto em grandes √°reas.",
    "D) O sinciciotrofoblasto desaparece, deixando apenas o endot√©lio."
  ],
  correctAnswer: "C) Ela se torna mais fina, com o desaparecimento do citotrofoblasto em grandes √°reas.",
  comment: "O afinamento da barreira placent√°ria facilita a passagem de oxig√™nio, nutrientes e res√≠duos, otimizando as trocas essenciais para o crescimento fetal.",
  topic: "Altera√ß√µes da Barreira Placent√°ria"
},
{
  question: "Quais s√£o alguns dos agentes que a barreira placent√°ria √© perme√°vel, permitindo a passagem para o feto?",
  options: [
    "A) Somente oxig√™nio e nutrientes.",
    "B) V√≠rus (HIV, Rub√©ola, Zika), algumas bact√©rias (S√≠filis), anticorpos maternos (IgG), drogas e √°lcool.",
    "C) Todas as bact√©rias e fungos, mas nenhum v√≠rus.",
    "D) A barreira √© completamente imperme√°vel a pat√≥genos e subst√¢ncias nocivas."
  ],
  correctAnswer: "B) V√≠rus (HIV, Rub√©ola, Zika), algumas bact√©rias (S√≠filis), anticorpos maternos (IgG), drogas e √°lcool.",
  comment: "A barreira placent√°ria, embora protetora, n√£o √© impenetr√°vel e permite a passagem de diversos agentes, incluindo pat√≥genos e subst√¢ncias que podem ser prejudiciais ao feto.",
  topic: "Permeabilidade da Barreira Placent√°ria"
},
{
  question: "Como o feto obt√©m oxigena√ß√£o, uma vez que seus pulm√µes est√£o colabados e cheios de l√≠quido?",
  options: [
    "A) Atrav√©s da respira√ß√£o pelas br√¢nquias, como peixes.",
    "B) Dependendo exclusivamente da placenta para oxigena√ß√£o.",
    "C) Atrav√©s da reabsor√ß√£o de oxig√™nio do l√≠quido amni√≥tico.",
    "D) Ele n√£o precisa de oxig√™nio durante o desenvolvimento intrauterino."
  ],
  correctAnswer: "B) Dependendo exclusivamente da placenta para oxigena√ß√£o.",
  comment: "A placenta √© o √∫nico √≥rg√£o respirat√≥rio funcional do feto, respons√°vel por todas as trocas gasosas.",
  topic: "Fun√ß√£o Placent√°ria na Oxigena√ß√£o Fetal"
},
{
  question: "Qual a fun√ß√£o da Geleia de Wharton no cord√£o umbilical?",
  options: [
    "A) Produzir horm√¥nios para o feto.",
    "B) Atuar como barreira para a passagem de subst√¢ncias t√≥xicas.",
    "C) Proteger os vasos contra tor√ß√µes e compress√£o.",
    "D) Facilitar a passagem de nutrientes para o feto."
  ],
  correctAnswer: "C) Proteger os vasos contra tor√ß√µes e compress√£o.",
  comment: "A Geleia de Wharton, um tecido conjuntivo mucoso, √© essencial para a integridade estrutural do cord√£o umbilical, protegendo os vasos umbilicais.",
  topic: "Cord√£o Umbilical"
},
{
  question: "Quantas art√©rias e veias o cord√£o umbilical geralmente cont√©m?",
  options: [
    "A) Uma art√©ria e uma veia.",
    "B) Duas art√©rias e duas veias.",
    "C) Uma art√©ria e duas veias.",
    "D) Duas art√©rias e uma veia."
  ],
  correctAnswer: "D) Duas art√©rias e uma veia.",
  comment: "O cord√£o umbilical tipicamente possui duas art√©rias (levando sangue desoxigenado do feto para a placenta) e uma veia (trazendo sangue oxigenado da placenta para o feto).",
  topic: "Vasculariza√ß√£o do Cord√£o Umbilical"
},
{
  question: "Qual o tipo de inser√ß√£o do cord√£o umbilical que √© considerado perigoso devido √† desprote√ß√£o dos vasos?",
  options: [
    "A) Inser√ß√£o central.",
    "B) Inser√ß√£o marginal.",
    "C) Inser√ß√£o velamentosa.",
    "D) Inser√ß√£o parac√™ntrica."
  ],
  correctAnswer: "C) Inser√ß√£o velamentosa.",
  comment: "Na inser√ß√£o velamentosa, os vasos umbilicais se separam antes de atingir a placa cori√¥nica, ficando desprotegidos e vulner√°veis a compress√£o ou ruptura.",
  topic: "Tipos de Inser√ß√£o do Cord√£o Umbilical"
},
{
  question: "Quais s√£o as principais fun√ß√µes da ves√≠cula umbilical (saco vitelino) nas primeiras semanas?",
  options: [
    "A) Armazenar urina fetal.",
    "B) Transferir nutrientes antes da circula√ß√£o placent√°ria e ser local de origem das primeiras c√©lulas sangu√≠neas e germinativas.",
    "C) Produzir o l√≠quido amni√≥tico.",
    "D) Proteger o cord√£o umbilical de tor√ß√µes."
  ],
  correctAnswer: "B) Transferir nutrientes antes da circula√ß√£o placent√°ria e ser local de origem das primeiras c√©lulas sangu√≠neas e germinativas.",
  comment: "A ves√≠cula umbilical √© crucial no desenvolvimento embrion√°rio inicial, antes que a placenta assuma plenamente suas fun√ß√µes.",
  topic: "Ves√≠cula Umbilical"
},
{
  question: "O que acontece com o alantoide ap√≥s o nascimento?",
  options: [
    "A) Torna-se parte do intestino grosso.",
    "B) Forma o f√≠gado.",
    "C) Torna-se o √∫raco/ligamento umbilical mediano, e seus vasos as art√©rias e veia umbilicais.",
    "D) Desaparece completamente sem deixar vest√≠gios."
  ],
  correctAnswer: "C) Torna-se o √∫raco/ligamento umbilical mediano, e seus vasos as art√©rias e veia umbilicais.",
  comment: "O alantoide, embora vestigial no humano adulto, √© importante no desenvolvimento embrion√°rio, contribuindo para a bexiga e os vasos umbilicais.",
  topic: "Alantoide"
},
{
  question: "A partir do segundo trimestre, qual a principal fonte de renova√ß√£o do l√≠quido amni√≥tico?",
  options: [
    "A) Secre√ß√£o do epit√©lio amni√≥tico.",
    "B) Fluido intersticial materno.",
    "C) Urina fetal.",
    "D) Secre√ß√£o das gl√¢ndulas uterinas."
  ],
  correctAnswer: "C) Urina fetal.",
  comment: "O feto engole o l√≠quido amni√≥tico, que √© absorvido, filtrado pelos rins e excretado de volta na forma de urina, criando um ciclo cont√≠nuo.",
  topic: "L√≠quido Amni√≥tico: Produ√ß√£o e Ciclo"
},
{
  question: "Qual das seguintes n√£o √© uma fun√ß√£o do l√≠quido amni√≥tico?",
  options: [
    "A) Prote√ß√£o mec√¢nica (absor√ß√£o de choques).",
    "B) Controle de temperatura.",
    "C) Ser a principal fonte de oxig√™nio para o feto.",
    "D) Essencial para o desenvolvimento pulmonar."
  ],
  correctAnswer: "C) Ser a principal fonte de oxig√™nio para o feto.",
  comment: "A principal fonte de oxig√™nio para o feto √© a placenta, n√£o o l√≠quido amni√≥tico.",
  topic: "Fun√ß√µes do L√≠quido Amni√≥tico"
},
{
  question: "O que √© mec√¥nio e qual sua relev√¢ncia cl√≠nica?",
  options: [
    "A) Um horm√¥nio produzido pela placenta.",
    "B) As fezes do feto, cuja presen√ßa no l√≠quido amni√≥tico pode indicar sofrimento fetal e risco de S√≠ndrome de Aspira√ß√£o de Mec√¥nio.",
    "C) Um tipo de c√©lula-tronco encontrada no cord√£o umbilical.",
    "D) O fluido inicial secretado pelo epit√©lio amni√≥tico."
  ],
  correctAnswer: "B) As fezes do feto, cuja presen√ßa no l√≠quido amni√≥tico pode indicar sofrimento fetal e risco de S√≠ndrome de Aspira√ß√£o de Mec√¥nio.",
  comment: "A aspira√ß√£o de mec√¥nio √© uma emerg√™ncia neonatal grave que pode causar pneumonia qu√≠mica e obstru√ß√£o das vias a√©reas.",
  topic: "Mec√¥nio e Complica√ß√µes Fetais"
},
{
  question: "Qual o prop√≥sito da amniocentese?",
  options: [
    "A) Apenas para avaliar a maturidade pulmonar fetal.",
    "B) Coleta de l√≠quido amni√≥tico para diagn√≥sticos gen√©ticos ou avalia√ß√£o de maturidade pulmonar.",
    "C) Injetar nutrientes no l√≠quido amni√≥tico.",
    "D) Promover a fus√£o da dec√≠dua capsular e parietal."
  ],
  correctAnswer: "B) Coleta de l√≠quido amni√≥tico para diagn√≥sticos gen√©ticos ou avalia√ß√£o de maturidade pulmonar.",
  comment: "A amniocentese √© um procedimento diagn√≥stico importante, mas deve ser realizada com cautela devido aos riscos envolvidos.",
  topic: "Amniocente"
},
{
  question: "A por√ß√£o fetal da placenta √© derivada de qual estrutura espec√≠fica?",
  options: [
    "A) Endom√©trio uterino.",
    "B) Dec√≠dua basal.",
    "C) C√≥rion viloso.",
    "D) Saco vitelino."
  ],
  correctAnswer: "C) C√≥rion viloso.",
  comment: "O c√≥rion viloso, ou c√≥rion frondosum, √© a parte do saco cori√¥nico que forma a por√ß√£o fetal da placenta funcional.",
  topic: "Origem da Por√ß√£o Fetal da Placenta"
},
{
  question: "Qual o comprimento m√©dio do cord√£o umbilical e quais s√£o os riscos de cord√µes muito longos ou muito curtos?",
  options: [
    "A) 10-20 cm; ambos causam diabetes gestacional.",
    "B) 30-90 cm; longos podem formar n√≥s/enrolar no pesco√ßo; curtos podem causar descolamento prematuro da placenta.",
    "C) 100-120 cm; ambos causam ruptura prematura da bolsa.",
    "D) 5-15 cm; ambos causam parto prematuro."
  ],
  correctAnswer: "B) 30-90 cm; longos podem formar n√≥s/enrolar no pesco√ßo; curtos podem causar descolamento prematuro da placenta.",
  comment: "O comprimento adequado do cord√£o umbilical √© crucial para o desenvolvimento e parto sem complica√ß√µes, com varia√ß√µes extremas apresentando riscos espec√≠ficos.",
  topic: "Cord√£o Umbilical: Comprimento e Riscos"
},
{
  question: "Qual √© a principal caracter√≠stica da face fetal da placenta?",
  options: [
    "A) Aspecto lobulado com cotil√©dones.",
    "B) Coberta por uma fina camada de dec√≠dua basal.",
    "C) √â lisa e brilhante, coberta pelo √¢mnio, com inser√ß√£o do cord√£o umbilical e vasos cori√¥nicos vis√≠veis.",
    "D) Cont√©m as art√©rias espiraladas maternas."
  ],
  correctAnswer: "C) √â lisa e brilhante, coberta pelo √¢mnio, com inser√ß√£o do cord√£o umbilical e vasos cori√¥nicos vis√≠veis.",
  comment: "A face fetal √© o lado da placenta voltado para o feto, por onde o cord√£o umbilical se conecta e os vasos fetais s√£o vis√≠veis sob o √¢mnio.",
  topic: "Anatomia Macrosc√≥pica da Placenta"
},
{
  question: "No que consiste a 'rea√ß√£o decidual'?",
  options: [
    "A) Aumento do n√∫mero de vilosidades cori√¥nicas.",
    "B) Ac√∫mulo de glicog√™nio e lip√≠dios nas c√©lulas do estroma endometrial, que se tornam volumosas.",
    "C) Fus√£o das membranas amniocori√¥nicas.",
    "D) Degenera√ß√£o das c√©lulas do sinciciotrofoblasto."
  ],
  correctAnswer: "B) Ac√∫mulo de glicog√™nio e lip√≠dios nas c√©lulas do estroma endometrial, que se tornam volumosas.",
  comment: "A rea√ß√£o decidual √© uma modifica√ß√£o do endom√©trio para preparar o √∫tero para a implanta√ß√£o e nutri√ß√£o inicial do embri√£o.",
  topic: "Rea√ß√£o Decidual"
},
{
  question: "Qual das seguintes estruturas √© um divert√≠culo da ves√≠cula umbilical e participa na forma√ß√£o da bexiga urin√°ria?",
  options: [
    "A) O c√≥rion.",
    "B) O √¢mnio.",
    "C) O alantoide.",
    "D) O ducto vitelino."
  ],
  correctAnswer: "C) O alantoide.",
  comment: "O alantoide √© um anexo embrion√°rio que contribui para o desenvolvimento do sistema urin√°rio e dos vasos umbilicais.",
  topic: "Alantoide e Desenvolvimento Embrion√°rio"
},
{
  question: "Em que fase da gesta√ß√£o a barreira placent√°ria se torna mais fina para facilitar as trocas?",
  options: [
    "A) Nas primeiras 8 semanas.",
    "B) Ap√≥s 20 semanas de gesta√ß√£o.",
    "C) Apenas no momento do parto.",
    "D) N√£o h√° altera√ß√£o na espessura da barreira durante a gesta√ß√£o."
  ],
  correctAnswer: "B) Ap√≥s 20 semanas de gesta√ß√£o.",
  comment: "O afinamento da barreira √© um processo adaptativo que visa otimizar as trocas metab√≥licas e gasosas conforme as necessidades do feto aumentam.",
  topic: "Altera√ß√µes da Barreira Placent√°ria"
},
{
  question: "Qual √© a classifica√ß√£o da dec√≠dua que recobre o concepto, envolvendo-o como uma c√°psula?",
  options: [
    "A) Dec√≠dua Basal.",
    "B) Dec√≠dua Parietal.",
    "C) Dec√≠dua Capsular.",
    "D) Dec√≠dua Intervilosit√°ria."
  ],
  correctAnswer: "C) Dec√≠dua Capsular.",
  comment: "A dec√≠dua capsular √© a por√ß√£o do endom√©trio que envolve superficialmente o concepto, mas que posteriormente degenera.",
  topic: "Classifica√ß√£o da Dec√≠dua"
},
{
  question: "O sangue materno 'usado' (rico em CO2 e excretas) retorna √† circula√ß√£o da m√£e por quais vasos?",
  options: [
    "A) Art√©rias espiraladas.",
    "B) Art√©rias umbilicais.",
    "C) Veias endometriais.",
    "D) Veia umbilical."
  ],
  correctAnswer: "C) Veias endometriais.",
  comment: "Ap√≥s as trocas no espa√ßo interviloso, o sangue materno desoxigenado e com res√≠duos retorna √† circula√ß√£o sist√™mica da m√£e atrav√©s das veias endometriais.",
  topic: "Circula√ß√£o Placent√°ria Materna"
},
{
  question: "A dec√≠dua parietal √© a por√ß√£o da mucosa uterina que:",
  options: [
    "A) Recobre o concepto, envolvendo-o como uma c√°psula.",
    "B) Se localiza profundamente ao concepto, na base de implanta√ß√£o.",
    "C) Reveste o restante da cavidade do √∫tero, n√£o ocupada pelo embri√£o inicialmente.",
    "D) Forma a por√ß√£o fetal da placenta funcional."
  ],
  correctAnswer: "C) Reveste o restante da cavidade do √∫tero, n√£o ocupada pelo embri√£o inicialmente.",
  comment: "A dec√≠dua parietal corresponde √† parte do endom√©trio que n√£o est√° diretamente envolvida na implanta√ß√£o ou no revestimento do concepto.",
  topic: "Classifica√ß√£o da Dec√≠dua"
},
{
  question: "Qual √© o principal componente do cord√£o umbilical que o protege contra tor√ß√µes e compress√£o?",
  options: [
    "A) As art√©rias umbilicais.",
    "B) A veia umbilical.",
    "C) A Geleia de Wharton.",
    "D) O √¢mnio."
  ],
  correctAnswer: "C) A Geleia de Wharton.",
  comment: "A Geleia de Wharton √© um tecido conjuntivo mucoso especializado que oferece prote√ß√£o e suporte estrutural aos vasos umbilicais.",
  topic: "Cord√£o Umbilical"
},
{
  question: "Qual a localiza√ß√£o usual para a inser√ß√£o do cord√£o umbilical na placenta?",
  options: [
    "A) Marginal.",
    "B) Velamentosa.",
    "C) Central.",
    "D) Lateral."
  ],
  correctAnswer: "C) Central.",
  comment: "A inser√ß√£o central, ou paracentral, √© o tipo mais comum e considerado normal para a inser√ß√£o do cord√£o umbilical na placenta.",
  topic: "Cord√£o Umbilical: Inser√ß√£o"
},
{
  question: "Quais s√£o as primeiras c√©lulas a serem formadas na ves√≠cula umbilical?",
  options: [
    "A) C√©lulas nervosas e musculares.",
    "B) C√©lulas √≥sseas e cartilaginosas.",
    "C) C√©lulas sangu√≠neas e germinativas primordiais.",
    "D) C√©lulas epiteliais e glandulares."
  ],
  correctAnswer: "C) C√©lulas sangu√≠neas e germinativas primordiais.",
  comment: "A ves√≠cula umbilical tem um papel hematopoi√©tico e na forma√ß√£o das c√©lulas precursoras dos gametas nas fases iniciais do desenvolvimento.",
  topic: "Ves√≠cula Umbilical"
},
{
  question: "Qual √© o destino da ves√≠cula umbilical (saco vitelino) por volta da 10¬™ semana de gesta√ß√£o?",
  options: [
    "A) Torna-se parte da bexiga urin√°ria.",
    "B) Transforma-se na por√ß√£o fetal da placenta.",
    "C) Geralmente desaparece ou se torna vestigial.",
    "D) Continua a crescer e produzir l√≠quido amni√≥tico."
  ],
  correctAnswer: "C) Geralmente desaparece ou se torna vestigial.",
  comment: "Ap√≥s a 10¬™ semana, com o desenvolvimento da circula√ß√£o placent√°ria, a ves√≠cula umbilical perde sua fun√ß√£o e regride.",
  topic: "Ves√≠cula Umbilical: Destino"
},
{
  question: "Uma das fun√ß√µes do l√≠quido amni√≥tico √© ser essencial para qual desenvolvimento fetal espec√≠fico?",
  options: [
    "A) Desenvolvimento hep√°tico.",
    "B) Desenvolvimento pulmonar.",
    "C) Desenvolvimento cerebral.",
    "D) Desenvolvimento card√≠aco."
  ],
  correctAnswer: "B) Desenvolvimento pulmonar.",
  comment: "O feto 'inspira' o l√≠quido amni√≥tico, o que √© fundamental para a expans√£o e o desenvolvimento adequado dos alv√©olos pulmonares.",
  topic: "L√≠quido Amni√≥tico: Fun√ß√µes"
} ];

    function buildQuiz() {
        const output = [];
        questions.forEach((currentQuestion, questionNumber) => {
            const options = [];
            for (let i = 0; i < currentQuestion.options.length; i++) {
                // Note o uso de ${...} para template literals do JS dentro da f-string
                options.push(
                    `<label class="option" data-question="${questionNumber}" data-value="${currentQuestion.options[i]}">
                        <img src="tesouras.png" class="scissor-icon" onclick="event.stopPropagation(); this.parentNode.classList.toggle('struck-through');">
                        ${currentQuestion.options[i]}
                    </label>`
                );
            }
            output.push(
                `<div class="card" id="question-${questionNumber}" data-topic="${currentQuestion.topic}">
                    <div class="question">${currentQuestion.question}</div>
                    <div class="options">${options.join("")}</div>
                    <div class="comment" id="comment-${questionNumber}"></div>
                </div>`
            );
        });
        quizContainer.innerHTML = output.join("");
    }

    function showResults() {
        wrongQuestionIndices = [];
        errorCountByTopic = {};
        totalAnsweredQuestionsByTopic = {};
        currentWrongQuestionIndex = -1;
        hasErrors = false;
        errorDiagnosisSection.style.display = 'none';
        topicsToReviewList.innerHTML = '';
        statusMessage.textContent = '';

        const allQuestionCards = document.querySelectorAll('.quiz-container .card, #newQuestionsContent .card');
        let correctAnswersCount = 0;
        let totalQuestionsAnswered = 0;

        allQuestionCards.forEach((card, index) => {
            const questionEl = card.querySelector('.question') || card.querySelector('p');
            if (!questionEl) return;
            
            const questionText = questionEl.textContent.trim();
            const optionsContainer = card.querySelector('.options') || card;
            const allOptions = optionsContainer.querySelectorAll('.option, label.option, label');
            const userAnswerElement = optionsContainer.querySelector('.option.selected, label.selected');
            const commentDiv = card.querySelector('.comment');
            const questionTopic = card.dataset.topic || "T√≥pico n√£o informado";

            // Limpa classes
            allOptions.forEach(option => { option.classList.remove('correct', 'incorrect', 'selected'); });
            if (commentDiv) commentDiv.classList.remove('show');

            let correctAnswerValue = null;
            let questionComment = null;

            // L√≥gica para Est√°ticas vs Din√¢micas
            const isStatic = card.id && card.id.startsWith('question-');
            if (isStatic) {
                const questionData = questions.find(q => q.question.trim() === questionText);
                if (questionData) {
                    correctAnswerValue = questionData.correctAnswer.trim();
                    questionComment = questionData.comment;
                }
            } else {
                const correctOpt = optionsContainer.querySelector('.option[data-answer="true"], label[data-answer="true"]');
                if (correctOpt) correctAnswerValue = correctOpt.dataset.value?.trim() || correctOpt.textContent.trim();
                
                const commentElement = card.querySelector('.comment');
                if (commentElement && commentElement.textContent.trim()) questionComment = commentElement.textContent.trim();
            }

            // Verifica resposta
            let userAnswer = null;
            if (userAnswerElement) {
                userAnswerElement.classList.add('selected');
                userAnswer = userAnswerElement.dataset.value?.trim() || userAnswerElement.textContent.trim();
                totalQuestionsAnswered++;
                totalAnsweredQuestionsByTopic[questionTopic] = (totalAnsweredQuestionsByTopic[questionTopic] || 0) + 1;

                if (userAnswer === correctAnswerValue) {
                    correctAnswersCount++;
                } else {
                    hasErrors = true;
                    errorCountByTopic[questionTopic] = (errorCountByTopic[questionTopic] || 0) + 1;
                }
            }

            // Pinta as op√ß√µes
            allOptions.forEach(option => {
                const optionValue = option.dataset.value?.trim() || option.textContent.trim();
                if (optionValue === correctAnswerValue) option.classList.add('correct');
                if (userAnswer && optionValue === userAnswer && userAnswer !== correctAnswerValue) option.classList.add('incorrect');
            });

            if (commentDiv && questionComment) {
                commentDiv.textContent = questionComment;
                commentDiv.classList.add('show');
            }
        });

        resultsContainer.textContent = `Voc√™ acertou ${correctAnswersCount} de ${totalQuestionsAnswered} quest√µes respondidas.`;

        // Diagn√≥stico
        if (hasErrors) {
            for (const topic in errorCountByTopic) {
                const errors = errorCountByTopic[topic];
                const total = totalAnsweredQuestionsByTopic[topic] || 0;
                if (total > 0) {
                    const percent = ((errors / total) * 100).toFixed(1);
                    const li = document.createElement('li');
                    li.textContent = `${topic}: ${percent}% de erros (${errors} de ${total} quest√µes)`;
                    topicsToReviewList.appendChild(li);
                }
            }
            errorDiagnosisSection.style.display = 'block';
            generatedQuestionsSection.style.display = 'block';
            generateNewQuestionsBtn.style.display = 'block';
            errorDiagnosisSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else {
            const li = document.createElement('li');
            li.textContent = "ü•≥ Parab√©ns! Voc√™ n√£o teve erros nas quest√µes respondidas.";
            topicsToReviewList.appendChild(li);
        }
    }

    // Listeners
    document.addEventListener("click", function (event) {
        const clickedElement = event.target;
        const optionElement = clickedElement.closest('.option');
        if (optionElement) {
            if (clickedElement.classList.contains("scissor-icon")) {
                event.stopPropagation();
                optionElement.classList.toggle("struck-through");
            } else {
                const parentCard = optionElement.closest('.card');
                const currentQuestionOptions = parentCard.querySelectorAll('.option');
                currentQuestionOptions.forEach(opt => opt.classList.remove("selected"));
                optionElement.classList.add("selected");
            }
        }
    });

    generateNewQuestionsBtn.addEventListener("click", async function() {
        statusMessage.textContent = '‚è≥ Gerando novas perguntas...';
        generateNewQuestionsBtn.disabled = true;
        
        const topics = Object.keys(errorCountByTopic).filter(topic => {
            const errorsInTopic = errorCountByTopic[topic] || 0;
            const totalAnsweredInTopic = totalAnsweredQuestionsByTopic[topic] || 0;
            return errorsInTopic > 0 && totalAnsweredInTopic > 0;
        });
        
        const topicsToSend = topics.length > 0 ? topics : ["fisiologia celular", "biologia"];

        try {
            const response = await fetch('https://www.quizia.xyz/quiz', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ topicos: topicsToSend }),
            });

            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            
            const data = await response.json();
            newQuestionsContent.innerHTML = '';

            if (data && data.html) {
                newQuestionsContent.innerHTML = data.html.replace(/```html|```/g, '');
                
                newQuestionsContent.querySelectorAll('.card').forEach((card) => {
                    // L√≥gica de limpeza e adi√ß√£o de tesouras (mantida igual)
                    const questionElement = card.querySelector('p');
                    if (questionElement && !questionElement.classList.contains('question')) questionElement.classList.add('question');
                    
                    card.querySelectorAll('label').forEach((label) => {
                        const radioInput = label.querySelector('input[type="radio"]');
                        if (radioInput) {
                            if (radioInput.hasAttribute('data-answer')) label.setAttribute('data-answer', radioInput.getAttribute('data-answer'));
                            radioInput.remove();
                        }
                        if (!label.classList.contains('option')) label.classList.add('option');
                        if (!label.dataset.value) label.dataset.value = label.textContent.trim();
                        if (!label.querySelector('.scissor-icon')) {
                            const scissorIcon = document.createElement('img');
                            scissorIcon.src = 'tesouras.png';
                            scissorIcon.className = 'scissor-icon';
                            scissorIcon.onclick = function(e) { e.stopPropagation(); label.classList.toggle('struck-through'); };
                            label.insertBefore(scissorIcon, label.firstChild);
                        }
                    });
                });
            } else {
                newQuestionsContent.innerHTML = "<p>N√£o foi poss√≠vel gerar novas perguntas.</p>";
            }
            
            generatedQuestionsSection.style.display = 'block';
            generatedQuestionsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            statusMessage.textContent = '‚úÖ Perguntas geradas com sucesso!';
            setTimeout(() => { statusMessage.textContent = '' }, 3000);
            
        } catch (error) {
            console.error('Erro:', error);
            statusMessage.textContent = '‚ùå Erro: ' + error.message;
            setTimeout(() => { statusMessage.textContent = '' }, 5000);
        } finally {
            generateNewQuestionsBtn.disabled = false;
        }
    });

    buildQuiz();
    document.getElementById("verifyAnswersBtn").addEventListener("click", showResults);
</script>
</body>
</html>
